<!DOCTYPE html>
<html lang="es">
  <head>
  	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
     <!-- Para que las páginas se muestren correctamente y el zoom funcione bien en los dispositivos móviles -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>:: 3. Ajax en J2EE FormPost::</title>
 
    <!-- CSS de Bootstrap -->    
	<!--     <link href="css/bootstrap.min.css" rel="stylesheet" media="screen"> -->
	<!--     <link href="./css/main.css" rel="stylesheet"> -->
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">
	
	<!-- CSS Chema custom -->
	<link rel="stylesheet" href="./../css/style.css" />
	
 
    <!-- librerías opcionales que activan el soporte de HTML5 para IE8 -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->  
    <script src="./../js/utilidades.js"></script> 
    <script type="text/javascript">
	    var obj;
		function validar(){
			// Crea la instancia del Objeto XMLHttpRequest
			obj = new ObjetoAJAX();
			var oForm = document.forms[0];
			obj.enviar(oForm.action, "POST", "procesaResultado", oForm);
		}
		// Importando en JS, solo debemos implementar funcion de retrollamada y listo:
		function procesaResultado(){
			if(obj.estado() == 200){
				document.getElementById("resultado").innerHTML = obj.respuestaTexto();
				var encabezados = "<h3>Encabezados de la Respuesta:</h3><br>";
				encabezados += obj.obtenerEncabezados();
				document.getElementById("encabezados").innerHTML = encabezados;
			} else{
				alert("ERROR: "+obj.textoEstado());
			}
	    }
    </script>	    	

  </head>
  <body>
	<!-- Aquí va el JUMBOTRON -->
	<section class="jumbotron jumbotron-chema">	
		<div class="container">
			<p class="lead text-center aco wow fadeInDown animation-delay-5 mw-800 center-block mb-4" style="visibility: visible; animation-name: fadeInDown;">				
				:: Ajax en J2EE 3, Info sobre libros, manejo en XML ::
			</p>
			<h2 class="text-center color-primary mb-2 wow fadeInDown" style="visibility: visible; animation-name: fadeInDown;">
				Form request
			</h2>			
		</div>
	</section>

    <br>
 
		<div class="container-fluid show-top-margin separate-rows tall-rows">
		  <div class="row ">
				<div class="row"  align="center">
				  <div class="col-md-6"><b>Formulario de solicitud de datos:</b></div>
				  <br>
				</div>
				 <div class="row">
				  	<div align="center" class="col-md-8" id="bodyForm">  
				  		<form action="http://localhost:8080/configChannels/bookAjax/3_validador">
				  			<table>
				  				<tr>
				  					<td>Nombre: </td><td><input type="text" name="txtNombre" /></td>
				  				</tr>
				  				<tr>
				  					<td>Apellido: </td><td><input type="text" name="txtApellido" /></td>
				  				</tr>
				  				<tr>
				  					<td>Email: </td><td><input type="text" name="txtEmail" /></td>
				  				</tr>
				  				<tr>
				  					<td>Ciudad: </td><td><input type="text" name="txtCiudad" /></td>
				  				</tr>
				  				<tr>
				  					<td colspan="2" align="center"> <input type="button" name="botonValidar" onclick="validar();" value="Procesar" /> </td>
				  				</tr>
				  			</table>
				  		</form>
				  	</div>
				  </div>
				  <div class="row"  align="center">
				  	<div class="col-md-6" id="resultado"></div>				  
				  </div>
				  <div class="row"  align="center">
				  	<div class="col-md-6" id="encabezados"></div>				  
				  </div>
<!-- 				<div class="row"> -->
<!-- 				  <div class="col-md-4">.col-md-4</div> -->
<!-- 				  <div class="col-md-4">.col-md-4</div> -->
<!-- 				  <div class="col-md-4">.col-md-4</div> -->
<!-- 				</div> -->
<!-- 				<div class="row"> -->
<!-- 				  <div class="col-md-6">.col-md-6</div> -->
<!-- 				  <div class="col-md-6">.col-md-6</div> -->
<!-- 				</div> -->
			</div>
		</div>

 
    <!-- Librería jQuery requerida por los plugins de JavaScript -->
    <script src="http://code.jquery.com/jquery.js"></script>
 
    <!-- Todos los plugins JavaScript de Bootstrap (también puedes
         incluir archivos JavaScript individuales de los únicos
         plugins que utilices) -->
<!--     <script src="js/bootstrap.min.js"></script> -->
<!-- 	 <script src="js/jquery-3.2.1.min.js"></script>  -->
	 <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
  </body>
</html>